#!/bin/bash
# configure_boot.sh

cd $BUILD_DIR

# Create GRUB configuration
mkdir -p $ISO_DIR/boot/grub

cat > $ISO_DIR/boot/grub/grub.cfg << 'GRUB'
set timeout=5
set default=0

menuentry "HINDOS Minimal Linux" {
    linux /boot/vmlinuz root=/dev/sda1 ro quiet
    initrd /boot/initrd.img
}

menuentry "HINDOS (Safe Mode)" {
    linux /boot/vmlinuz root=/dev/sda1 ro single
    initrd /boot/initrd.img
}

menuentry "HINDOS (Debug Mode)" {
    linux /boot/vmlinuz root=/dev/sda1 rw debug loglevel=7
    initrd /boot/initrd.img
}
GRUB
